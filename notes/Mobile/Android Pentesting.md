---
tags:
  - Exploitation
  - Foundational
  - Mobile
---

## Android Dynamic Analysis
resources: [Frida](https://frida.re/docs/android/), [Objection](https://github.com/sensepost/objection)

> Runtime analysis with proxy interception and instrumentation.

### Proxy Traffic with Burp
> [!info] Configure device proxy and install Burp CA certificate:
> 1. On device: Settings > WiFi > Proxy > Manual
> 2. Host: AttackerIP, Port: 8080
> 3. Install via Settings > Security > Install Certificate

```bash
adb push burp-cert.der /sdcard/
```

### Frida Server Setup
```bash
adb push frida-server /data/local/tmp/
adb shell chmod 755 /data/local/tmp/frida-server
adb shell /data/local/tmp/frida-server &

# Verify
frida-ps -U
```

### SSL Pinning Bypass with Objection
```bash
objection -g <PackageName> explore
> android sslpinning disable
```

### Check Data Storage
```bash
adb shell
run-as <PackageName>

# Shared preferences
cat /data/data/<PackageName>/shared_prefs/*.xml

# SQLite databases
sqlite3 /data/data/<PackageName>/databases/<db>.db
> .tables
> SELECT * FROM <Table>;
```

### Test Exported Components
```bash
# Launch exported activity
adb shell am start -n <PackageName>/<ActivityName>

# Send broadcast
adb shell am broadcast -a <ActionName> -n <PackageName>/<ReceiverName>

# Query content provider
adb shell content query --uri content://<PackageName>.<Provider>/
```

### MobSF (Automated) [optional]
```bash
docker run -it --rm -p 8000:8000 opensecurity/mobile-security-framework-mobsf
# Upload APK to http://localhost:8000
```

### Drozer [optional]
```bash
dz console connect
> run app.package.attacksurface <PackageName>
> run app.activity.info -a <PackageName>
> run app.provider.query content://<URI>
```
